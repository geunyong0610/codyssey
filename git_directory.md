# 버전 관리 시스템 (VCS)

버전 관리 시스템(VCS): 파일의 변화를 시간에 따라 기록하여, 나중에 특정 시점의 버전을 다시 꺼내올 수 있게 해주는 시스템
VCS를 사용하면 각 파일이나 프로젝트를 통째로 이전 상태로 되돌릴 수 있으므로 다음과 같은 작업이 가능함:

- 시간에 따라 수정 사항 비교 가능  
- 문제를 발생시킨 시점과 작성자 추적 가능  
- 잘못된 수정사항을 빠르게 복구 가능  

---

## 1. 로컬 버전 관리 시스템

버전을 관리하기 위해 디렉토리 단위로 파일을 복사하다 보면 실수로 디렉토리를 삭제하거나 잘못 복사하는 문제가 발생함.  
이런 문제를 방지하기 위해 **로컬 VCS**가 개발됨.

- 간단한 데이터베이스를 사용하여 파일의 변경 정보를 기록함  
- `RCS`라는 도구를 사용하여 **Patch Set**(파일에서 변경된 부분)을 관리함  
- Patch Set은 특별한 형식의 파일로 저장되며,  
  이 Patch Set들을 적용하면 파일들을 특정 시점으로 되돌릴 수 있음

---

## 2. 중앙집중식 버전 관리 시스템 (CVCS)

협업이 필요한 규모의 프로젝트에서는 **중앙집중식 버전 관리 시스템(CVCS)**이 사용됨.

- 대표적 시스템: `CVS`, `Subversion`, `Perforce`  
- 구조: 파일을 관리하는 **서버**가 존재하며, **클라이언트**가 서버로부터 파일을 내려받아 사용함

### 장점:
- 로컬 VCS보다 **중앙 집중 관리가 가능**함  
- 작업 내용을 서버 단일 위치에서 통제할 수 있음  
- 클라이언트 측 로컬 저장소를 각각 따로 관리하지 않아도 됨

### 단점:
- **서버에 의존적임**  
  - 서버가 다운되면 해당 시간 동안 작업 불가능함  
  - 서버 디스크에 손상이 발생하면 모든 이력을 잃을 수 있음  
  - 클라이언트가 개별적으로 가진 복사본은 살아있지만 서버 중심의 히스토리는 복구 불가능함

※ 로컬 VCS도 이와 유사한 단점을 가짐

---

## 3. 분산 버전 관리 시스템 (DVCS)

분산 버전 관리 시스템(DVCS)은 `Git`, `Mercurial`, `Bazaar`, `Darcs` 등이 존재함.

- 클라이언트는 단순히 파일의 마지막 스냅샷만 **Checkout**하는 것이 아니라,  
  저장소 전체(이력 포함)를 **복제(clone)**함  
- 서버에 문제가 생겨도 클라이언트가 가진 복제본으로부터 작업을 다시 시작할 수 있음  
- 클라이언트 중 하나만 존재해도 서버 복원이 가능함  
- `Clone`은 모든 데이터를 포함하는 **완전한 백업**임

---

## .git 디렉토리의 역할

`.git` 디렉토리는 Git이 프로젝트를 추적하고 관리하는 데 필요한 **모든 정보와 설정을 저장하는 숨김 폴더**임.  

이 폴더는 다음과 같은 기능을 담당함:

- Git이 작동하는 **핵심 구조**임  
- 이 폴더가 있어야 해당 디렉토리는 Git 리포지토리로 인식됨  
- `.git` 폴더가 삭제되면 일반 폴더로 전환되며 Git의 추적 대상에서 제외됨  
- Git 명령어들은 이 폴더 내부의 데이터를 바탕으로 동작함

### 주요 역할

1. **버전 관리 정보 저장소 역할**  
   - Git은 파일 자체를 추적하지 않고 `.git` 폴더 내부에 **스냅샷**(작업 디렉토리의 전체 복사본)을 저장함  
   - 커밋 시, 이전 상태와의 차이를 `.git` 내부에 기록함

2. **변경 이력 저장과 추적**  
   - 언제, 어떻게, 왜 변경되었는지를 전체 이력으로 저장함  
   - 이력을 기반으로 이전 상태로 되돌리거나 특정 변경 내용을 추적할 수 있음

3. **브랜치 병합 및 관리**  
   - 여러 작업 흐름(브랜치)을 동시에 관리하고 병합할 수 있는 구조가 `.git` 내부에 존재함  
   - 병합 충돌, 브랜치 전환 등의 작업도 이 폴더 내부 데이터 기반으로 수행됨

4. **스테이징 영역 관리**  
   - 커밋 전에 어떤 변경 내용을 포함시킬지를 임시 저장하는 **스테이징 영역** 역시 `.git` 폴더 내부에 존재함  
   - 이를 통해 선택적으로 커밋할 파일을 결정할 수 있음

